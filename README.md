# 势域争霸 - 回合制策略游戏

## 游戏简介

势域争霸是一款基于您设计的规则的回合制策略游戏。玩家通过建造建筑、移动军队来争夺地盘，最终目标是吃掉对方的王塔获得胜利。

## 游戏规则

### 地图生成
- 14×14的地图
- 112块海洋（蓝色）
- 56格陆地（绿色）
- 28格山脉（灰色）
- 王塔位置：选择周围有两块陆地的陆地，计算曼哈顿距离最大的两个位置

### 棋子类型
- **三角形**：军队（红色/蓝色）
- **圆形**：农田（黄色/绿色）
- **方形**：工业（灰色/橙色）
- **王塔**：特殊建筑（白色/黑色）

### 回合制规则
1. **白方先手**
2. 每回合分为三个阶段：行军 → 建造 → 拆除
3. 获胜条件：吃掉对方的王塔

### 行军阶段
- 军队移动总数 = 工业数 - 军队数 + 1
- 单格军队最多移动3步
- 军队按国际象棋王的规则移动（上下左右斜对角）
- 只能移动到空的陆地格子
- 军队可以吃掉对方的军队和王塔
- 濒危状态下军队无法移动

### 建造阶段
- 最多建造3个不同建筑，或建造2个相同建筑
- 建造顺序：农田 → 工业 → 军队
- 数量限制：
  - 工业数量 ≤ 1/2农田
  - 军队数量 ≤ 1/2农田
  - 军队数量 ≤ 工业数量
- 建造位置：必须在己方势力范围内（所有己方建筑为中心3×3范围）
- 地形限制：
  - 农田只能建在陆地
  - 工业可以建在陆地和海洋
  - 军队只能建在陆地
- 工业建造后会摧毁上下左右四个格子的农田

### 拆除阶段
- 可以拆除任意己方建筑（除王塔外）
- 用于调整建筑比例，避免濒危状态

### 势力范围
- 以所有军队为中心3×3范围
- 势力范围内的农田和工业属于该玩家
- 如果农田/工业同时属于两方势力范围，则消失

### 濒危状态
- 当建筑比例不满足限制时进入濒危状态
- 濒危状态下军队无法移动
- 必须立即补充建筑以恢复正常状态

## 操作方法

### 键盘操作
- **T**：高亮王塔势力范围
- **A**：高亮所有军队
- **F**：完成当前阶段
- **右键**：取消选择和高亮

### 鼠标操作
- **左键**：选择棋子或位置
- **右键**：取消选择

### 行军阶段操作
1. 点击己方军队选中
2. 再次点击军队高亮移动范围
3. 点击目标位置移动军队

### 建造阶段操作
1. 点击空位置建造农田
2. 建造后自动高亮势力范围

### 拆除阶段操作
1. 点击己方建筑拆除

## 安装和运行

### 环境要求
- Python 3.6+
- pygame 2.0.0+

### 安装步骤
1. 克隆或下载项目文件
2. 安装依赖：
   ```bash
   pip install -r requirements.txt
   ```
3. 运行游戏：
   ```bash
   python main.py
   ```

## 游戏界面

### 主界面元素
- **当前玩家**：显示白方/黑方回合
- **当前阶段**：显示行军/建造/拆除
- **移动点数**：显示已用/总移动点数
- **资源状况**：显示双方农田、工业、军队数量
- **濒危状态**：红色提示濒危状态
- **操作提示**：显示键盘快捷键

### 高亮效果
- **黄色高亮**：王塔势力范围
- **黄色边框**：所有军队
- **绿色高亮**：军队移动范围
- **橙色边框**：选中的棋子

## 策略提示

1. **资源平衡**：保持农田、工业、军队的合理比例
2. **势力扩张**：通过建造扩大势力范围
3. **军队部署**：将军队部署在战略位置
4. **防御建设**：保护己方王塔和重要建筑
5. **进攻时机**：在适当时机发动进攻

## 开发者信息

本游戏基于您设计的规则实现，使用Python和pygame开发。

## 许可证

本项目仅供学习和娱乐使用。 